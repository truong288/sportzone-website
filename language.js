// Language Support for SportZone

const translations = {
    vi: {
        // Header & Navigation
        hotline: "Hotline: 1900-1234",
        slogan: "Đam mê thể thao - Chất lượng hàng đầu",
        search_placeholder: "Tìm kiếm sản phẩm...",
        login: "Đăng nhập",
        register: "Đăng ký",
        home: "Trang chủ",
        products: "Sản phẩm",
        about: "Về chúng tôi",
        contact: "Liên hệ",
        
        // Categories
        football: "Bóng đá",
        basketball: "Bóng rổ",
        tennis: "Tennis",
        running: "Chạy bộ",
        gym: "Gym & Fitness",
        categories: "Danh mục sản phẩm",
        
        // Banner
        banner_title_1: "Khuyến mãi lớn - Giảm đến 50%",
        banner_desc_1: "Trang thiết bị thể thao chính hãng",
        shop_now: "Mua ngay",
        
        // Products
        featured_products: "Sản phẩm nổi bật",
        add_to_cart: "Thêm vào giỏ",
        add_to_wishlist: "Yêu thích",
        quick_view: "Xem nhanh",
        share: "Chia sẻ",
        in_stock: "Còn hàng",
        out_of_stock: "Hết hàng",
        sale: "Giảm giá",
        new: "Mới",
        hot: "Bán chạy",
        
        // Cart
        shopping_cart: "Giỏ hàng",
        cart_empty: "Giỏ hàng trống",
        total: "Tổng cộng",
        checkout: "Thanh toán",
        continue_shopping: "Tiếp tục mua sắm",
        remove: "Xóa",
        quantity: "Số lượng",
        
        // Forms
        email_placeholder: "Email",
        password_placeholder: "Mật khẩu",
        fullname_placeholder: "Họ và tên",
        phone_placeholder: "Số điện thoại",
        address_placeholder: "Địa chỉ",
        no_account: "Chưa có tài khoản? Đăng ký",
        have_account: "Đã có tài khoản? Đăng nhập",
        
        // Footer
        footer_desc: "Cửa hàng thể thao uy tín với hơn 10 năm kinh nghiệm",
        customer_service: "Dịch vụ khách hàng",
        shipping_policy: "Chính sách vận chuyển",
        return_policy: "Chính sách đổi trả",
        warranty: "Bảo hành",
        size_guide: "Hướng dẫn chọn size",
        contact_info: "Thông tin liên hệ",
        address: "123 Nguyễn Văn Cừ, Q5, TP.HCM",
        all_rights_reserved: "Tất cả quyền được bảo lưu.",
        
        // Messages
        added_to_cart: "Đã thêm vào giỏ hàng",
        added_to_wishlist: "Đã thêm vào yêu thích",
        removed_from_cart: "Đã xóa khỏi giỏ hàng",
        login_required: "Vui lòng đăng nhập",
        login_success: "Đăng nhập thành công",
        register_success: "Đăng ký thành công",
        error_occurred: "Có lỗi xảy ra",
        
        // Checkout
        checkout_title: "Thanh toán",
        shipping_info: "Thông tin giao hàng",
        payment_method: "Phương thức thanh toán",
        cod: "Thanh toán khi nhận hàng (COD)",
        bank_transfer: "Chuyển khoản ngân hàng",
        place_order: "Đặt hàng",
        order_summary: "Tóm tắt đơn hàng",
        subtotal: "Tạm tính",
        shipping_fee: "Phí vận chuyển",
        
        // Admin
        admin_panel: "Quản trị viên",
        dashboard: "Tổng quan",
        product_management: "Quản lý sản phẩm",
        order_management: "Quản lý đơn hàng",
        user_management: "Quản lý người dùng",
        admin_management: "Quản lý admin",
        settings: "Cài đặt",
        logout: "Đăng xuất"
    },
    
    en: {
        // Header & Navigation
        hotline: "Hotline: 1900-1234",
        slogan: "Sports Passion - Premium Quality",
        search_placeholder: "Search products...",
        login: "Login",
        register: "Register",
        home: "Home",
        products: "Products",
        about: "About Us",
        contact: "Contact",
        
        // Categories
        football: "Football",
        basketball: "Basketball",
        tennis: "Tennis",
        running: "Running",
        gym: "Gym & Fitness",
        categories: "Product Categories",
        
        // Banner
        banner_title_1: "Big Sale - Up to 50% Off",
        banner_desc_1: "Authentic sports equipment",
        shop_now: "Shop Now",
        
        // Products
        featured_products: "Featured Products",
        add_to_cart: "Add to Cart",
        add_to_wishlist: "Add to Wishlist",
        quick_view: "Quick View",
        share: "Share",
        in_stock: "In Stock",
        out_of_stock: "Out of Stock",
        sale: "Sale",
        new: "New",
        hot: "Hot",
        
        // Cart
        shopping_cart: "Shopping Cart",
        cart_empty: "Cart is empty",
        total: "Total",
        checkout: "Checkout",
        continue_shopping: "Continue Shopping",
        remove: "Remove",
        quantity: "Quantity",
        
        // Forms
        email_placeholder: "Email",
        password_placeholder: "Password",
        fullname_placeholder: "Full Name",
        phone_placeholder: "Phone Number",
        address_placeholder: "Address",
        no_account: "Don't have an account? Register",
        have_account: "Already have an account? Login",
        
        // Footer
        footer_desc: "Trusted sports store with over 10 years of experience",
        customer_service: "Customer Service",
        shipping_policy: "Shipping Policy",
        return_policy: "Return Policy",
        warranty: "Warranty",
        size_guide: "Size Guide",
        contact_info: "Contact Information",
        address: "123 Nguyen Van Cu, District 5, HCMC",
        all_rights_reserved: "All rights reserved.",
        
        // Messages
        added_to_cart: "Added to cart",
        added_to_wishlist: "Added to wishlist",
        removed_from_cart: "Removed from cart",
        login_required: "Please login",
        login_success: "Login successful",
        register_success: "Registration successful",
        error_occurred: "An error occurred",
        
        // Checkout
        checkout_title: "Checkout",
        shipping_info: "Shipping Information",
        payment_method: "Payment Method",
        cod: "Cash on Delivery (COD)",
        bank_transfer: "Bank Transfer",
        place_order: "Place Order",
        order_summary: "Order Summary",
        subtotal: "Subtotal",
        shipping_fee: "Shipping Fee",
        
        // Admin
        admin_panel: "Admin Panel",
        dashboard: "Dashboard",
        product_management: "Product Management",
        order_management: "Order Management",
        user_management: "User Management",
        admin_management: "Admin Management",
        settings: "Settings",
        logout: "Logout"
    }
};

// Current language state
let currentLanguage = localStorage.getItem('language') || 'vi';

// Switch language function
function switchLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    
    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.getElementById(`lang-${lang}`).classList.add('active');
    
    // Update page title
    if (lang === 'vi') {
        document.getElementById('page-title').textContent = 'SportZone - Shop Thể Thao Hàng Đầu';
    } else {
        document.getElementById('page-title').textContent = 'SportZone - Premium Sports Shop';
    }
    
    // Update all text elements
    updateLanguageElements();
    
    // Reload products with new language
    loadProducts();
}

// Update all elements with language data
function updateLanguageElements() {
    const elements = document.querySelectorAll('[data-lang]');
    elements.forEach(element => {
        const key = element.getAttribute('data-lang');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
        }
    });
    
    // Update placeholders
    const placeholderElements = document.querySelectorAll('[data-lang-placeholder]');
    placeholderElements.forEach(element => {
        const key = element.getAttribute('data-lang-placeholder');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
            element.placeholder = translations[currentLanguage][key];
        }
    });
}

// Get translated text
function getText(key) {
    return translations[currentLanguage] && translations[currentLanguage][key] 
           ? translations[currentLanguage][key] 
           : key;
}

// Get product name in current language
function getProductName(product) {
    return currentLanguage === 'en' && product.nameEn ? product.nameEn : product.name;
}

// Get product description in current language
function getProductDescription(product) {
    return currentLanguage === 'en' && product.descriptionEn ? product.descriptionEn : product.description;
}

// Get category name in current language
function getCategoryName(category) {
    return currentLanguage === 'en' && category.nameEn ? category.nameEn : category.name;
}

// Format currency
function formatCurrency(amount) {
    if (currentLanguage === 'en') {
        return '$' + (amount / 25000).toFixed(0); // Rough USD conversion
    } else {
        return amount.toLocaleString('vi-VN') + 'đ';
    }
}

// Initialize language on page load
function initializeLanguage() {
    // Set active language button
    document.getElementById(`lang-${currentLanguage}`).classList.add('active');
    
    // Update all elements
    updateLanguageElements();
    
    // Set page title
    if (currentLanguage === 'vi') {
        document.getElementById('page-title').textContent = 'SportZone - Shop Thể Thao Hàng Đầu';
    } else {
        document.getElementById('page-title').textContent = 'SportZone - Premium Sports Shop';
    }
}

// Export functions for use in other files
if (typeof window !== 'undefined') {
    window.switchLanguage = switchLanguage;
    window.getText = getText;
    window.getProductName = getProductName;
    window.getProductDescription = getProductDescription;
    window.getCategoryName = getCategoryName;
    window.formatCurrency = formatCurrency;
    window.initializeLanguage = initializeLanguage;
    window.currentLanguage = currentLanguage;
}