<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán - SportZone</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/checkout.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-main">
                <div class="logo">
                    <a href="index.html">
                        <h1>SportZone</h1>
                    </a>
                </div>
                
                <div class="checkout-steps">
                    <div class="step active">
                        <span class="step-number">1</span>
                        <span class="step-text">Giỏ hàng</span>
                    </div>
                    <div class="step active">
                        <span class="step-number">2</span>
                        <span class="step-text">Thông tin</span>
                    </div>
                    <div class="step">
                        <span class="step-number">3</span>
                        <span class="step-text">Hoàn thành</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="checkout-main">
        <div class="container">
            <div class="checkout-grid">
                <!-- Left Column - Forms -->
                <div class="checkout-forms">
                    <!-- Customer Information -->
                    <div class="form-section">
                        <h2><i class="fas fa-user"></i> Thông tin khách hàng</h2>
                        <form id="customer-form">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Họ và tên *</label>
                                    <input type="text" name="fullName" required>
                                </div>
                                <div class="form-group">
                                    <label>Số điện thoại *</label>
                                    <input type="tel" name="phone" required>
                                </div>
                                <div class="form-group full-width">
                                    <label>Email</label>
                                    <input type="email" name="email">
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Shipping Address -->
                    <div class="form-section">
                        <h2><i class="fas fa-truck"></i> Địa chỉ giao hàng</h2>
                        <form id="shipping-form">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Tỉnh/Thành phố *</label>
                                    <select name="province" id="province-select" required onchange="loadDistricts()">
                                        <option value="">Chọn tỉnh/thành phố</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Quận/Huyện *</label>
                                    <select name="district" id="district-select" required onchange="loadWards()">
                                        <option value="">Chọn quận/huyện</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Phường/Xã *</label>
                                    <select name="ward" id="ward-select" required>
                                        <option value="">Chọn phường/xã</option>
                                    </select>
                                </div>
                                <div class="form-group full-width">
                                    <label>Địa chỉ cụ thể *</label>
                                    <input type="text" name="address" placeholder="Số nhà, tên đường..." required>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Payment Method -->
                    <div class="form-section">
                        <h2><i class="fas fa-credit-card"></i> Phương thức thanh toán</h2>
                        <div class="payment-methods">
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="cod" checked>
                                <div class="payment-content">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <div>
                                        <h3>Thanh toán khi nhận hàng (COD)</h3>
                                        <p>Bạn chỉ phải thanh toán khi nhận được hàng</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="bank_transfer">
                                <div class="payment-content">
                                    <i class="fas fa-university"></i>
                                    <div>
                                        <h3>Chuyển khoản ngân hàng</h3>
                                        <p>Chuyển khoản trước, giao hàng sau xác nhận</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                        
                        <!-- Bank Transfer Info -->
                        <div id="bank-info" class="bank-info" style="display: none;">
                            <h3>Thông tin chuyển khoản</h3>
                            <div class="bank-details">
                                <p><strong>Ngân hàng:</strong> Vietcombank</p>
                                <p><strong>Số tài khoản:</strong> 1234567890</p>
                                <p><strong>Chủ tài khoản:</strong> SPORT ZONE CO LTD</p>
                                <p><strong>Chi nhánh:</strong> Chi nhánh TP.HCM</p>
                                <p><strong>Nội dung:</strong> <span id="transfer-content"></span></p>
                            </div>
                        </div>
                    </div>

                    <!-- Order Notes -->
                    <div class="form-section">
                        <h2><i class="fas fa-sticky-note"></i> Ghi chú đơn hàng</h2>
                        <textarea name="orderNotes" placeholder="Ghi chú thêm cho đơn hàng (tùy chọn)..." rows="3"></textarea>
                    </div>
                </div>

                <!-- Right Column - Order Summary -->
                <div class="order-summary">
                    <div class="summary-card">
                        <h2>Đơn hàng của bạn</h2>
                        
                        <!-- Cart Items -->
                        <div class="cart-items-summary" id="checkout-items">
                            <!-- Items will be loaded here -->
                        </div>
                        
                        <!-- Coupon Code -->
                        <div class="coupon-section">
                            <div class="coupon-input">
                                <input type="text" id="coupon-code" placeholder="Mã giảm giá">
                                <button onclick="applyCoupon()">Áp dụng</button>
                            </div>
                        </div>
                        
                        <!-- Price Summary -->
                        <div class="price-summary">
                            <div class="price-row">
                                <span>Tạm tính:</span>
                                <span id="subtotal">0đ</span>
                            </div>
                            <div class="price-row">
                                <span>Phí vận chuyển:</span>
                                <span id="shipping-fee">Miễn phí</span>
                            </div>
                            <div class="price-row coupon-discount" id="coupon-discount" style="display: none;">
                                <span>Giảm giá:</span>
                                <span>-0đ</span>
                            </div>
                            <div class="price-row total">
                                <span>Tổng cộng:</span>
                                <span id="total-amount">0đ</span>
                            </div>
                        </div>
                        
                        <!-- Place Order Button -->
                        <button class="btn-place-order" onclick="placeOrder()">
                            <i class="fas fa-shopping-bag"></i>
                            Đặt hàng
                        </button>
                        
                        <!-- Security Info -->
                        <div class="security-info">
                            <p><i class="fas fa-shield-alt"></i> Thông tin của bạn được bảo mật</p>
                            <p><i class="fas fa-truck"></i> Miễn phí vận chuyển cho đơn hàng từ 500.000đ</p>
                            <p><i class="fas fa-redo"></i> Đổi trả trong vòng 7 ngày</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="checkout-footer">
        <div class="container">
            <p>&copy; 2024 SportZone. Tất cả quyền được bảo lưu.</p>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="order-success-modal" class="modal">
        <div class="modal-content success-modal">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Đặt hàng thành công!</h2>
            <p>Cảm ơn bạn đã đặt hàng. Chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất.</p>
            <div class="order-info">
                <p><strong>Mã đơn hàng:</strong> <span id="order-id"></span></p>
                <p><strong>Tổng tiền:</strong> <span id="order-total"></span></p>
            </div>
            <div class="modal-actions">
                <button class="btn-primary" onclick="goHome()">Về trang chủ</button>
                <button class="btn-secondary" onclick="viewOrder()">Xem đơn hàng</button>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <script src="js/data.js"></script>
    <script src="js/checkout.js"></script>
</body>
</html>